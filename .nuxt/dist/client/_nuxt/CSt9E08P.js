import{p as f,_ as T,m as h,D as x,H as K,c as m,o as g,a,f as u,v as w,F as B,e as S,A as j,h as U,d as v,t as p,a0 as V,a1 as N,B as y,b as D,n as P}from"./BR39Aq3W.js";import{u as R}from"./BRJFEVq2.js";const M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAfQAAAH0Bx0gPAAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACeSURBVDiN1ZPBDcIwDEWfMwt7sAQLMEWvnaRRC0dG4tY9+FyMZKgTIZULkSwl9n9PudgkseeUXfQvBAYcgQNQJT2+gswKcAbuACsgYAKKJHrlv56cWQEGfwioPYnDNeSH12AMzTmTODyH3CiJGIiSJUocXj7hN0EiuThY/L6BN4JEcvVK4VSQSJpwU5BIUlgS1tsFMzsBSLo1M/+/TE92ZfjD1tAH3gAAAABJRU5ErkJggg==",E=f("/images/flags/France.png"),F=f("/images/flags/Germany.png"),H=f("/images/flags/Spain.png"),Q=f("/images/flags/Italy.png"),J=f("/images/flags/United-Kingdom.png"),G=f("/images/flags/Russia.png"),Y=f("/images/flags/Ukraine.png"),Z={class:"phone-input"},z={class:"phone-input__selected"},W=["src"],q={class:"phone-input__dropdown"},O=["onClick"],X=["src"],ee={class:"phone-input__field"},ae=["value","maxlength","placeholder"],le={__name:"PhoneInputComponent",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(I,{emit:n}){const $=I,e=n;R({link:[{rel:"preload",href:"/images/flags/France.png",as:"image"},{rel:"preload",href:"/images/flags/Germany.png",as:"image"},{rel:"preload",href:"/images/flags/Spain.png",as:"image"},{rel:"preload",href:"/images/flags/Italy.png",as:"image"},{rel:"preload",href:"/images/flags/UnitedKingdom.png",as:"image"},{rel:"preload",href:"/images/flags/Russia.png",as:"image"},{rel:"preload",href:"/images/flags/Ukraine.png",as:"image"}]});const r={fr:{name:"France",prefix:"+33",phoneLength:12,format:[1,2,2,2,2],placeholder:"6 12 34 56 78",flag:E},de:{name:"Germany",prefix:"+49",phoneLength:11,format:[3,3,4],placeholder:"151 123 4567",flag:F},es:{name:"Spain",prefix:"+34",phoneLength:10,format:[3,3,3],placeholder:"612 345 678",flag:H},it:{name:"Italy",prefix:"+39",phoneLength:11,format:[3,3,4],placeholder:"312 345 6789",flag:Q},gb:{name:"United Kingdom",prefix:"+44",phoneLength:12,format:[4,6],placeholder:"7123 456789",flag:J},ru:{name:"Russia",prefix:"+7",phoneLength:10,format:[3,3,4],placeholder:"912 345 6789",flag:G},ua:{name:"Ukraine",prefix:"+380",phoneLength:11,format:[2,3,4],placeholder:"67 123 4567",flag:Y}},c=h("fr"),b=h(""),A=h(!1),_=x(()=>{const{prefix:l,format:s}=r[c.value];let d=b.value,i="",k=0;for(const L of s)d.length>k&&(i+=d.substr(k,L)+" ",k+=L);return i=i.trim(),l+" "+i});function C(){A.value=!A.value}function o(l){A.value=!1,c.value=l,b.value=""}function t(l){let s=l.target.value;s=s.replace(/\D/g,"");const d=r[c.value].prefix.replace("+","");s.startsWith(d)&&(s=s.slice(d.length));const i=r[c.value].phoneLength;s.length>i&&(s=s.slice(0,i)),b.value=s,e("update:modelValue",_.value)}return K(()=>$.modelValue,l=>{_.value}),(l,s)=>(g(),m("div",Z,[a("div",{class:"phone-input__select",onClick:C},[a("div",z,[a("img",{src:r[c.value].flag,alt:""},null,8,W),s[0]||(s[0]=a("img",{class:"arrow",src:M,alt:""},null,-1))]),u(a("div",q,[(g(),m(B,null,S(r,(d,i)=>a("div",{key:i,class:"phone-input__option",onClick:j(k=>o(i),["stop"])},[a("img",{src:d.flag,alt:""},null,8,X)],8,O)),64))],512),[[w,A.value]])]),a("div",ee,[a("input",{type:"tel",value:_.value,onInput:t,maxlength:r[c.value].phoneLength+5,placeholder:r[c.value].placeholder},null,40,ae)])]))}},te=T(le,[["__scopeId","data-v-5477557d"]]),oe={class:"calculator-wrapper"},ne={key:0,class:"design-or-repair"},se={key:1},ue={class:"object-type"},re=["value"],ie={class:"object-details"},pe=["placeholder"],ce=["placeholder"],de=["placeholder"],me={class:"kitchen"},ge={key:2,class:"contact-info"},ve=["placeholder"],he=["placeholder"],fe=["placeholder"],be={key:3,class:"confirmation"},Ae={class:"buttons"},ye=["type","disabled"],_e={__name:"CostCalculator",setup(I){const n=h(1),$=h(null),e=h({design:!1,renovation:!1,objectType:"",area:null,bathrooms:null,rooms:null,hasKitchen:!1,name:"",phone:"",email:"",message:"",accepted:!1}),r=h(!1),c={apartment:"calculator.objectType.apartment",public:"calculator.objectType.public",office:"calculator.objectType.office"},b=()=>{r.value=!0,setTimeout(()=>{r.value=!1},5e3),e.value={design:!1,renovation:!1,objectType:"",area:null,bathrooms:null,rooms:null,hasKitchen:!1,name:"",phone:"",email:"",message:"",accepted:!1},n.value=1,console.log(e.value)},A=()=>{n.value<2&&n.value++},_=()=>{n.value>1&&n.value--},C=()=>{n.value===2?b():A()};return(o,t)=>(g(),m("div",oe,[a("form",{class:"calculator",onSubmit:j(b,["prevent"])},[a("h3",null,[v(p(o.$t("calculator.h1"))+" ",1),t[12]||(t[12]=a("br",null,null,-1)),v(" "+p(o.$t("calculator.h2")),1)]),n.value===1?(g(),m("section",ne,[a("label",null,[u(a("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=l=>e.value.design=l)},null,512),[[V,e.value.design]]),v(" "+p(o.$t("calculator.directions.design")),1)]),a("label",null,[u(a("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=l=>e.value.renovation=l)},null,512),[[V,e.value.renovation]]),v(" "+p(o.$t("calculator.directions.renovation")),1)])])):U("",!0),n.value===1?(g(),m("section",se,[a("div",ue,[(g(),m(B,null,S(c,(l,s)=>a("label",{key:s},[u(a("input",{type:"radio",name:"objectType",value:s,"onUpdate:modelValue":t[2]||(t[2]=d=>e.value.objectType=d)},null,8,re),[[N,e.value.objectType]]),v(" "+p(o.$t(l)),1)])),64))]),a("div",ie,[a("label",null,[u(a("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=l=>e.value.area=l),min:"0",placeholder:o.$t("calculator.params.area")+" (м²)"},null,8,pe),[[y,e.value.area,void 0,{number:!0}]])]),a("label",null,[u(a("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=l=>e.value.bathrooms=l),min:"0",placeholder:o.$t("calculator.params.bathrooms")},null,8,ce),[[y,e.value.bathrooms,void 0,{number:!0}]])]),a("label",null,[u(a("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=l=>e.value.rooms=l),min:"0",placeholder:o.$t("calculator.params.rooms")},null,8,de),[[y,e.value.rooms,void 0,{number:!0}]])]),a("label",me,[u(a("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=l=>e.value.hasKitchen=l)},null,512),[[V,e.value.hasKitchen]]),v(" "+p(o.$t("calculator.params.kitchen")),1)])])])):U("",!0),n.value===2?(g(),m("section",ge,[u(a("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>e.value.name=l),placeholder:o.$t("calculator.contact.name"),required:""},null,8,ve),[[y,e.value.name]]),D(te,{modelValue:e.value.phone,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.phone=l),ref_key:"phoneInput",ref:$},null,8,["modelValue"]),u(a("input",{type:"email","onUpdate:modelValue":t[9]||(t[9]=l=>e.value.email=l),placeholder:o.$t("calculator.contact.email"),required:""},null,8,he),[[y,e.value.email]]),u(a("textarea",{"onUpdate:modelValue":t[10]||(t[10]=l=>e.value.message=l),placeholder:o.$t("calculator.contact.message")},null,8,fe),[[y,e.value.message]])])):U("",!0),n.value===2?(g(),m("section",be,[a("label",null,[u(a("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=l=>e.value.accepted=l),required:""},null,512),[[V,e.value.accepted]]),v(" "+p(o.$t("calculator.confirmation")),1)])])):U("",!0),a("div",Ae,[u(a("button",{class:"prev-button",onClick:_,type:"button"},p(o.$t("calculator.prev")),513),[[w,n.value===2]]),a("p",{class:P([{submit:r.value},"success-message"])},p(o.$t("calculator.success")),3),a("button",{class:"next-submit",onClick:C,type:n.value===2?"submit":"button",disabled:n.value===1&&(!e.value.objectType||!e.value.design&&!e.value.renovation||!e.value.area||!e.value.bathrooms||!e.value.rooms)||n.value===2&&(!e.value.name||!e.value.email||!e.value.accepted)},p(n.value===2?o.$t("calculator.button"):o.$t("calculator.next")),9,ye)])],32)]))}},Ve=T(_e,[["__scopeId","data-v-bfe59a38"]]);export{Ve as C};
